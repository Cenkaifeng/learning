<!-- TOC -->

- [什么是 VNode](#什么是-vnode)
- [VNode 的作用](#vnode-的作用)
- [VNode 的类型](#vnode-的类型)

<!-- /TOC -->
---

# 什么是 VNode
`VNode` 是 Vue.js 中存在的一个类，使用它可以实例化不同类型的 vnode 实例，而不同类型的 v node 实例各自表示不同类型的 DOM 元素。

`VNode`类的代码：
```ts
class VNode {
  constructor (
    tag,
    data,
    children,
    text,
    elm,
    context,
    componentOptions,
    asyncFactory
  ) {
    this.tag = tag
    this.data = data
    this.children = children
    this.text = text
    this.elm = elm
    this.ns = undefined
    this.context = context
    this.fnContext = undefined
    this.fnOptions = undefined
    this.fnScopeId = undefined
    this.key = data && data.key
    this.componentOptions = componentOptions
    this.componentInstance = undefined
    this.parent = undefined
    this.raw = false
    this.isStatic = false
    this.isRootInsert = true
    this.isComment = false
    this.isCloned = false
    this.isOnce = false
    this.asyncFactory = asyncFactory
    this.asyncMeta = undefined
    this.isAsyncPlaceholder = false
  }
  
  get child (): Component | void {
    return this.componentInstance
  }
}
```

vnode 描述了创建怎么样的 DOM 节点。
渲染过程就是，使用 vnode 创建真实的 DOM 并插入到页面视图。

# VNode 的作用
Vue.js 通过渲染视图时创建的 vnode 缓存起来，每次重新渲染视图时，将新创建的 vnode 和上一次缓存的 vnode 进行对比。

Vue.js 的状态侦测策略是采用中等粒度，当状态发生变化时，只通知组件级别，然后组件内使用虚拟 DOM 来渲染视图。

所以，vnode 的作用是通过缓存的方式，避免造成大量节点重渲染的性能浪费。

# VNode 的类型
vnode 的类型有以下几种：
- 注释节点
- 文本节点
- 元素节点
- 组件节点
- 函数式组件
- 克隆节点